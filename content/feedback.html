<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>ModusShop — Зворотній зв’язок</title>
    <link rel="stylesheet" href="./styles.css" />
    <style>
      /* Flex-контейнер для форми */
      main {
        padding: 16px;
        display: flex;
        flex-flow: row wrap;
        justify-content: center;
        align-items: flex-start;
        align-content: flex-start;
        gap: 16px;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial,
          sans-serif;
      }

      form {
        display: flex;
        flex-direction: column;
        gap: 12px;
        border: 1px solid var(--brand-dark);
        padding: 16px;
        border-radius: 8px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
        min-width: 300px;
        max-width: 520px;
        background: #fff;
      }
      fieldset {
        display: flex;
        flex-direction: column;
        gap: 8px;
        border-color: var(--brand-dark);
      }
      label {
        display: flex;
        flex-direction: column;
        gap: 4px;
      }
      input,
      select,
      textarea {
        padding: 6px 8px;
        border-radius: 4px;
        border: 1px solid #ccc;
      }

      /* Порядок елементів (order), зростання/стискання (flex-grow/flex-shrink) */
      fieldset {
        order: 1;
      }
      label[for="purpose"],
      select[name="purpose"] {
        order: 2;
      }
      textarea[name="details"] {
        order: 3;
        flex-grow: 1;
        flex-shrink: 1;
        min-height: 120px;
      }
      label input[type="checkbox"] {
        accent-color: var(--brand-dark);
      }
      .actions {
        order: 4;
        display: flex;
        gap: 8px;
        justify-content: flex-end;
      }
      button {
        background: var(--brand-accent);
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 4px;
        cursor: pointer;
      }
      button:hover {
        filter: brightness(0.95);
      }

      /* Tooltip для поля "Детально" керується JS (клас .details-active) */
      .details-wrap {
        position: relative;
        display: inline-block;
      }
      textarea[name="details"] {
        transition: background 160ms ease, box-shadow 160ms ease,
          border-color 160ms ease;
      }
      .details-wrap.details-active textarea[name="details"] {
        background: #fff8f0;
        border-color: #ff9800;
        box-shadow: 0 0 0 3px rgba(255, 152, 0, 0.15);
      }
      .details-tooltip {
        position: absolute;
        top: 8px;
        left: 100%;
        margin-left: 8px;
        background: #333;
        color: #fff;
        padding: 6px 8px;
        border-radius: 4px;
        font-size: 12px;
        line-height: 1.2;
        white-space: nowrap;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        opacity: 0;
        transform: translateY(-2px);
        pointer-events: none;
        transition: opacity 120ms ease, transform 120ms ease;
      }
      .details-wrap.details-active .details-tooltip {
        opacity: 1;
        transform: translateY(0);
      }
    </style>
  </head>
  <body>
    <header>
      <h1>Зворотній зв’язок</h1>
    </header>

    <main>
      <form>
        <fieldset>
          <legend>Персональна інформація</legend>
          <label
            >Прізвище та ім’я:
            <input type="text" name="fullname" required /></label
          ><br /><br />
          <label>E-mail: <input type="email" name="email" required /></label
          ><br /><br />
          <label
            >Вік:
            <input type="number" name="age" min="1" max="120" required /></label
          ><br /><br />
          <label
            >Освіта:
            <select name="education" required>
              <option value="повна">Повна</option>
              <option value="неповна">Неповна</option>
              <option value="вища">Вища</option>
              <option value="професійна">Професійна</option>
            </select>
          </label>
        </fieldset>
        <br />

        <label for="purpose">Мета зворотнього зв’язку:</label>
        <select name="purpose" id="purpose">
          <option>Співпраця</option>
          <option>Скарга на порушення права власності</option>
          <option>Пропозиція</option>
          <option>Наявність помилки</option>
        </select>
        <br />

        <label>
          Детально:<br />
          <span class="details-wrap">
            <textarea
              name="details"
              rows="5"
              cols="40"
              maxlength="300"
              aria-describedby="details-tip"
            ></textarea>
            <span
              id="details-tip"
              class="details-tooltip"
              role="tooltip"
            ></span>
          </span>
        </label>
        <br /><br />

        <label
          ><input type="checkbox" required /> Даю згоду на обробку даних</label
        >
        <br />
        <div class="actions">
          <button type="submit">Відправити</button>
          <button type="reset" style="background: #888">Очистити</button>
        </div>
      </form>
    </main>

    <footer>
      <p><a href="./index.html">На головну</a></p>
    </footer>
    <script src="./js/feedback-tooltip.js"></script>
  </body>
</html>
